# Adding a new page for logged-in buyers #

Logged in buyers are basically buyers who have an account on the marketplace. This means that mere visitors will not see the page created by this plug in: 

The first step is to create the new page in HTML. One important thing to know before starting to write the page is that if an empty html file is saved in the user/html folder, the page, when accessed, will not empty. 
Instead it will look like this: 

<p align="center">
  <img src="https://drive.google.com/uc?id=1T3Pj-mdCo90ug7An5pRpRpB3pG6AUz0m"/>
</p>

What you are looking at right now is the marketplace’s header, footer, and nothing in between.

## Adding a page for all logged-in buyers, accessible from all pages ##
* The only restriction we have for this section is making that page accessible from a logged-in
buyer’s portal only. We write that restriction in JavaScript using:

<p align="center">
  <img src="https://drive.google.com/uc?id=1QgjI168kyg1_yu2jrUVwV5M49icnZ-Vx"/>
</p>

The reason for returning 0 if merchantId exists is that logged in merchants and logged in buyer both
have a userId. But only logged-in merchants have a merchantId. Logged in buyers have a userId but
no merchantId.

Next, we decide where we want the link for the page to be on the buyer pages. In this example, we
want the link to be on the header. This can be coded like this:

<p align="center">
  <img src="https://drive.google.com/uc?id=1f_bg-jlMk7ru_qVpYK4hG52dNyogmTDy"/>
</p>

The reason for lines 18 and 19 is because those are the names of the elements we want the link to
be present in:

<p align="center">
  <img src="https://drive.google.com/uc?id=1pwtdMfJkJXC3HKpe_zhwxvOgjgASd2jo"/>
</p>

As can be seen above, the link’s URL points to an html file that was created and saved in the
user/html folder.
* Next, we create the HTML file and give it a name that is matched on the script. In this
example, we created a file with very random content:
  * A dynamically changing graph which is representing numbers being generated by a
script.
  * A button that affects the look of an element.
  * A button that calls an API, displays the response, and triggers Arcadier’s Toastr
notification.
  * An iframe from an external app (Spotify)
  * A random image with a random button.

  <p align="center">
  <img src="https://drive.google.com/uc?id=1qDbwSvaaq4-FsGgy2nvewvOcfejaFf1u"/>
</p>

  As can be seen in the footer, there are 4 scripts:
* The script on Line 28: The script necessary to make the script on Line 31 work. (Dynamic
graph.)
* The script on Line 29: It handles the API call when a button is pressed.
• The script on Line 30: The script that does the color change when a button is pressed.

As can be seen in the header, there are 2 stylesheets:
* Line 2: the stylesheet for the color change on button press.
* Line 3: the stylesheet for the rest of the page.
This HTML file is saved in the **user/html** folder.
The scripts are all saved in the **user/scripts** folder.

Script for the access link (scripts.js)

<p align="center">
  <img src="https://drive.google.com/uc?id=1myeGE5l35u3d_NyqBkwqt8TZKHflrRWA"/>
</p>

Script for the API call (api.js):

<p align="center">
  <img src="https://drive.google.com/uc?id=1RCsPc6_4Nx0r9EpC2xsf7NIkPvu1HzhU"/>
</p>

Script for the color change (link.js):

<p align="center">
  <img src="https://drive.google.com/uc?id=1iKxfm00aBhHtmrWx0tGQzniX6yHStogm"/>
</p>

After correctly and successfully uploading all the files on the developer dashboard. Enabling the
package and installing it will result in this:
<p align="center"><img src="https://drive.google.com/uc?id=1BM9tYQCVMil-Leq2vR6BMMfQqSYW9pCU" /></p>

## Adding a page accessible for all logged-in buyers, accessible from all pages, on a specific marketplace type ##

* The additional restriction we have here we have for this section is making that page
accessible from a logged-in buyer’s portal only, for bespoke marketplaces. We write that
restriction in JavaScript using:

<p align="center"><img src="https://drive.google.com/uc?id=13A0dcEAxrkGv5EN8fJIBL-_hs67dtsj6"/></p>
<p align="center">OR (for a spacetime marketplace)</p>
<p align="center"><img src="https://drive.google.com/uc?id=1mrY1MHBpvMChjzA_TkRHLO4icqSvwgHi"/></p>

## Adding a page accessible for all logged-in buyers, accessible from a specific page, on a specific marketplace type ##

* The additional restriction we have here we have for this section is making that page
accessible from a logged-in buyer’s portal only, for bespoke marketplaces, on a specific
page. For example, we want buyers to be able to access the page when they visit the cart
page of their bespoke marketplace. We write that restriction in JavaScript using:

<p align="center"><img src="https://drive.google.com/uc?id=1UN9tBrgzhQheRKFj7xDUN0PCCk5YqK8L"/></p>
